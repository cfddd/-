> [什么是负载均衡-知识中心-深信服 (sangfor.com.cn)](https://www.sangfor.com.cn/knowledge/load-balancing)

**负载均衡**（Load Balancing）是一种将网络流量、请求或工作负载分配到多个服务器或计算资源上的技术。其目的是**提高系统的性能、可靠性和可扩展性。** 在高流量或高负载的网络环境中，单个服务器可能无法处理所有的请求或工作负载。

负载均衡的分类包括以下几种：

1. **四层负载均衡**：工作在OSI模型的网络层，通过在网络层上进行流量分发，将请求分发到不同的服务器上。常见的协议有基于IP的负载均衡（如Round Robin、Least Connections）和基于DNS的负载均衡（如DNS轮询、DNS解析返回多个IP地址）。
2. **七层负载均衡**：工作在OSI模型的应用层，根据应用层协议（如HTTP、DNS、Radius等）来决定负载分发。七层负载可以基于URL、浏览器类别、语言等内容进行负载均衡。

常见的**负载均衡算法**包括：

- **轮询**：依次将请求分发给服务集群的节点，平均分担请求。
- **加权轮询**：根据节点性能设置权重，能者多劳。
- **最小连接数**：将请求转发给当前连接数最少的节点，避免过载。
- **哈希**：根据请求的IP地址或URL计算哈希值，决定分发给哪个节点。
- **优先级：** 将服务器按优先级分组，优先调度优先级高的，只有优先级高的服务器发生故障，才调度优先级低的服务器。
- **随机**：随机选取集群中的节点处理请求，逐渐演变为轮询算法。

负载均衡可以进行**健康检查**：
1. 心跳检测（Heartbeat）：负载均衡器定期向后端服务器发送心跳请求，检测服务器是否正常响应。
2. 响应超时检测：负载均衡器设置一个合理的响应超时时间，如果服务器在规定时间内没有响应，则认为服务器不可用。
3. 负载检测：负载均衡器通过监控服务器的负载情况，如CPU利用率、内存使用率等，判断服务器的可用性。

负载均衡的优势： 

- **提高系统性能**：通过将流量分发到多个服务器上，可以提高系统的处理能力和响应速度，减少单个服务器的负载压力。 
- **提高系统可靠性**：当某个服务器发生故障或不可用时，负载均衡可以自动将流量转移到其他可用的服务器上，保证系统的可用性和稳定性。 
- **实现可扩展性**：通过添加更多的服务器，负载均衡可以实现系统的水平扩展，满足不断增长的流量和负载需求。