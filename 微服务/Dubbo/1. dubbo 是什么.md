## dubbo 是什么
duobbo是一个高性能轻量级的开源RPC框架，他由10层模型来构成。整个分层的依赖由上到下。

我们也可以把dubbo理解为三层模型：
- 第一层是Business业务逻辑层，由我们自己来提供接口和实现。
- 第二层是RPC调用的核心层，负责封装和实现整个RPC的调用过程、负载均衡、集群容错、代理等核心功能。
- 第三层是Remoting，是对网络传输协议和数据转化的一个封装，根据dubbo官方文档的介绍Dubbo可以提供6大核心能力：
	- 第一个面向接口代理的**高性能RPC调用**
	- 第二个是智能容错和负载均衡
	- 第三个是服务的自动注册和发现
	- 第四个是高度可展的能力
	- 第五个是运行期流量调度
	- 第六个是服务可视化治理和运维

## dubbo常用的负载均衡算法

1、加权随机算法

2、最小活跃数

3、一致性hash

4、加权轮询

5、最短响应时间权重随机。

## dubbo的工作原理

1、服务启动的时候服务提供者和服务消费者根据配置信息会连接到注册中心，分别向注册中心去订阅和注册服务。

2、注册中心会根据订阅关系去返回服务提供者的信息到我们的的服务消费者，同时服务消费者会把服务提供者的信息缓存到本地，如果信息发生变更消费者会收到注册中心的一个推送，去更新本地的缓存。

3、服务消费者会生成代理对象同时根据负载均衡策略去选择一台目标的服务提供者并且定时向monitor记录接口的调用次数和时间信息

4、拿到代理对象后服务消费者通过代理对象发起接口的一个调用

5、服务提供者收到请求后会根据数据经行反序列化，然后通知代理调用反射接口的一个实现

## dubbo和springcloud的区别

这个问题我会从两个方面来回答：

第一个他的关注点dubbo是soa时代的产物，它的关注点主要在于服务的远程调用、流量分发、服务治理、流量控制等待这样一些方面；springcloud是诞生于无服务时代，它关注的是微服务的整个生态的解决方案，另外springcloud依托于spring和是springboot生态所以两个框架的目标是不一致的，dubbo定位于服务治理，springcloud是微服务解决生态。

第二个最大的区别是dubbo的底层使用的是Netty这样的NIO框架是基于tcp协议进行传输然后通过hession等序列化方式去完成RPC的通信而springCloud是基于Http协议+Rest风格的一个接口去实现远程通信，相对来说http请求会有更大的报文占用的带宽会更多效率上比dubbo会更差一些但是rest相比rpc来说会更加灵活服务提供方和服务调用方只需要一个契约去完成通信就行了