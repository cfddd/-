> [CS-Notes/notes/Java 并发.md at master · CyC2018/CS-Notes (github.com)](https://github.com/CyC2018/CS-Notes/blob/master/notes/Java%20%E5%B9%B6%E5%8F%91.md#%E4%B8%80%E4%BD%BF%E7%94%A8%E7%BA%BF%E7%A8%8B)
> 
> 【【狂神说Java】多线程详解】 https://www.bilibili.com/video/BV1V4411p7EF/?p=3&share_source=copy_web&vd_source=02e1fcde003194e9ed62527f120b831f
## 开辟线程
### Thread
```java
public class TestThread1 extends Thread {
    @Override
    public void run() {
        for (int i = 0; i < 200; i++) {
            System.out.println("countdown tik : " + i);
        }
    }
    public static void main(String[] args) {
        TestThread1 t = new TestThread1();
        t.start();
        for (int i = 0; i < 200; i++) {
            System.out.println("okok" + i);
        }
    }
}
```
### Runable
```java
public class TestThread3 implements Runnable{
    @Override
    public void run() {
        for (int i = 0; i < 200; i++) {
            System.out.println("countdown tik : " + i);
        }
    }
    public static void main(String[] args) {
        TestThread3 testThread3 = new TestThread3();
//        Thread thread = new Thread(testThread3);
//        thread.start();
        new Thread(testThread3).start();
        for (int i = 0; i < 200; i++) {
            System.out.println("okok" + i);
        }
    }
}
```
### 小结
**继承Thread类**
- 子类继承Thread类具备多线程能力
- 启动线程:子类对象.start()
- 不建议使用:避免OOP单继承局限性
**实现Runnable接口**
- 实现接口Runnable具有多线程能力
- 启动线程:传入目标对象+Thread对象.start()
- 推荐使用:避免单继承局限性，灵活方便，**方便同一个对象被多个线程使用**
## 并发问题
```java
// 下面会多个线程一起操作，会产生并发问题，日期错乱
public class TestThread4 implements Runnable{
    private int ticketNumber = 10;

    @Override
    public void run() {
        while (true) {

            try {
                Thread.sleep(200);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }

            if (ticketNumber <= 0)break;
            System.out.println(Thread.currentThread().getName() +"拿到了第" + ticketNumber -- + "张票");
        }
    }

    public static void main(String[] args) {
        TestThread4 ticket = new TestThread4();

        new Thread(ticket,"cfd").start();
        new Thread(ticket,"glz").start();
        new Thread(ticket,"lh").start();
    }
}
```
多个线程并发访问变量`ticketNumber`，导致出现并发错误